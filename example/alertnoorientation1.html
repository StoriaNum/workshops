  <html><head>
	  
    <meta name="viewport" content="width=device-width">
	  
    <title>Blueprint Esempio</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/examplemb.css" rel="stylesheet">
   

    <!-- Make sure you've built blueprint3d.js -->
    <!-- See README.md for details -->
    <script src="js/blueprint3d.js"></script>

    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>

    
    <script src="js/zcarxexample6.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="js/html2canvas.js"></script>

<script src="https://cdn.rawgit.com/StoriaNum/aframe/master/dist/aframe-v0.7.1.min.js"></script>	  
<script src="https://cdn.rawgit.com/StoriaNum/AR.js/master/aframe/build/aframe-ar.js"></script>
<!-- include a polyfill for chrome android 
<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>  -->
<script src="https://cdn.rawgit.com/StoriaNum/webrtc/gh-pages/ultimoadapter.js"></script>
       
  </head>


<!-- start the body of your page -->
<body>
	
	
	
	<div style='position: fixed; width:100%; top: 0px; z-index: 1;'>


        <!-- Right Column -->
        <div class="col-xs-9 main">    <div id="imagesave">

        <!-- 3D Viewer prima era qui-->
           

            <div id="main-controls">
              <a href="storiablueblue" class="btn btn-default btn-sm" id="new">
              <span class="glyphicon glyphicon-refresh" title="Nuovo Progetto"></span>       <!-- Nuovo  -->
              </a>
              
	      <a href="" class="btn btn-default btn-sm" id="buyidlink">
              <span class="glyphicon glyphicon-shopping-cart" title="Compra Ora"></span>       <!-- Buy  -->
              </a>	    
	    
		    
            
<!--
<a href="#" class="btn btn-default btn-sm" id="save_image_locally">
<span class="glyphicon glyphicon-screenshot" title="Salva immagine del progetto"></span>                    ImgJpg 
</a>  
<script>
  $('#save_image_locally').click(function(){
    html2canvas($('#imagesave'), 
    {
      onrendered: function (canvas) {  
       var a = document.createElement('a');
        // toDataURL defaults to png, so we need to request a jpeg, then convert for file download.
        a.href = canvas.toDataURL("image/jpeg").replace("image/jpeg", "image/octet-stream");
        a.download = 'myfilename.jpg';
        a.click();  
   
      }
    });
  });
</script>     -->
              
<!-- insert label storiablue with its own link                  

<a href="storiablueblue" style="font-size: 20px; font-style: italic; color: red;">storiablue</a>
--> 

<!--	&nbsp;	 -->   
		    
<span class="mcright"><a href="storiablueblue" class="fontkaushan">storiabluee12345</a>
</span>
                    

              
<!-- end inserting label storiablue with its own link  -->
               
            </div>
            
           
    <div id="viewer">          
            
            
            <div id="camera-controls">
             
            </div>

		  
		  
           
          </div> 

 





	</div>

</div></div>
  
<script>   
//////////   funzione per raccogliere variabili js    
	
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}
	
var link = getParameterByName('link');
var item = getParameterByName('item');
var Dst = getParameterByName('Dst');
var buy = getParameterByName('buyurl'); 
var Sx = getParameterByName('Sx');   
var Sy = getParameterByName('Sy');
var Sz = getParameterByName('Sz');
var Px = getParameterByName('Px');
var Py = getParameterByName('Py');    

	
var urlperPz = 	window.location.href;
var quasiPz = urlperPz.split("&Py=").pop();
var Pz = quasiPz.split("&Pz=").pop();   

	
var linkdir = link.replace(".gltf","");	
var linkfin = "https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/"+linkdir+"/glTF-Embedded/"+link;	

alert(linkdir);
alert(link);
alert(linkfin);
	
document.getElementById("buyidlink").href=buy;	
	
var scalearray =""+Sx+" "+Sy+" "+Sz+""; 
var positionarray = ""+Px+" "+Py+" "+Pz+"";
	
</script>
	
	
	
	
  <a-scene>
    <!-- this is the "stage" of your 3D content -->

    <a-entity camera="" position="0 1.6 5"></a-entity> <!-- We move the camera around a bit -->
    <a-entity light="type:directional;castShadow:true" position="0 10 0"></a-entity> <!-- Have a light shining down on our scene -->
    <a-entity light="type:ambient; intensity:0.5"></a-entity> <!-- and some ambient lighting -->

    <!-- we define our gltf model -->
    <a-assets>
	    <a-asset-item id="avocado" src=""></a-asset-item>
    </a-assets>
	  
	  <script>
	   var ele=document.getElementById("avocado");
	   ele.setAttribute('src',linkfin);		  	  
	  </script>

 <!-- <a-entity gltf-model="#avocado" look-controls="reverseMouseDrag:true" scale="0.1 0.1 0.1" position="0 0 0"></a-entity> -->

 <a-entity gltf-model="#avocado" id="defavocado" look-controls="reverseMouseDrag:true" scale="" position="0 0 0"></a-entity>
	  
<script>
// var scalearray =""+Sx+" "+Sy+" "+Sz+"";  
var totvalues= document.getElementById("defavocado");
totvalues.setAttribute("scale",scalearray);  
// var positionarray = ""+Px+" "+Py+" "+Pz+"";
totvalues.setAttribute("position",positionarray);	  
</script>	  
	  
    
    </a-scene>  
  
  
</body></html>
